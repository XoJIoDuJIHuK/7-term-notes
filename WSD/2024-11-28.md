# gRPC
- гугловская технология
- Когда-то давно RPC делала компания Sun, было тяжело, потом его сменил WCF, теперь возвращаются к RPC
- Из-за HTTP 2.0 в качестве транспорта и его мультиплексирования сильно повысилась скорость
- gRPC 2 (gRPC over HTTP 2.0) используется для общения сервисов
- В основе лежит язык IDL (Interface Definition Language) (описывает интерфейсы, по факту аналог WSDL) и протокол Protobuf (Protocol Buffer, на основе HTTP 2.0)
	- IDL позволяет генерировать стабы (стабами называются *элементы* и на сервере, и на клиенте в отличие от WCF, где стаб - на стороне сервера, а на стороне клиента - прокси)
- Клиент работает с удалённым сервером как с локальным
- Серверный стаб работает, как будто его кто-то вызывает и он делает возврат
- Они оба могут не подозревать, что работают по сети
- Фичи
	- Позволяет выполнять синхронные и асинхронные вызовы
	- Можно организовывать стриминг (получать на один запрос много ответов)
	- Доступна аутентификация по TSL или другим протоколам (например, гугловский *kubernetes* (а точно кубер?))
	- Бенчмарки
	- Механизм отмены запроса
	- Сжатие поверх сжатия HTTP 2
	- Использование ORCA (Open Request Cost Aggregation)
		- Позволяет создавать собственные метрики сервиса (в основном - производительности)
	- Встроенный балансировщик нагрузки
	- Встроенное разрешение имён (аналог DNS)
	- Механизм дедлайнов, позволяющий ограничить время ожидания
	- Встроенный отладчик и система обработки ошибок
	- Встроенный хелсчек
	- Механизм перехвата запросов и ответов (аналог мидлваре)
	- Механизм keep-alive (управление открытым соединением)
	- Поддержка метаданных о сервисе (методы, параметры и т.д.)
	- Телеметрическая система (Open Telemetry Metrics, тот же бенчмаркинг, ORCA, позволяет мониторить сервис)
	- OpenReflection (аналог свагера)
	- Request handling (отправка одного запроса на несколько серверов одновременно, если нужно, чтобы запрос точно дошёл)
	- Retry (повтор запросов)
	- Конфиги
	- Система статус-кодов
	- Механизм настройки ожидания (wait-for-ready)
- На автомат переписать пример из лекции на с++ на gRPC сервер (клиент на любом языке)
	- репу нужно запускать через cmake. Собирается полчаса
	- объяснить досконально всё по сгенерированным файлам, в т.ч. питоновским
	- выбрать и добавить одну дополнительную технологию
	- написать пошаговую инструкцию, чтобы можно было повторить. Всё расписать по дедлайнам и отмене
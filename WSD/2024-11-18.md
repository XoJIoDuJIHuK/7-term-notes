- Паттерн рефакторинга Strangler (душитель)
	- есть фасад (собственно душитель), который скрывает факт существования разных систем: легаси и новой - и то, что часть логики выполняется на старой системе, часть - на новой
	- легаси постепенно переписывается в новую систему
	- когда легаси кончается, фасад душителя убирается и остаётся только отрефакторенная система
- Паттерн composition
	- есть несколько микросервисов, каждый со своей БД
	- есть сервис, который принимает запросы и в зависимости от запроса отправляет запрос к нужному сервису, который в свою очередь отправляет запрос к своей БД
	- скрывает факт существования нескольких БД, создаёт видимость единой БД
- Event sourcing
	- БД Command ORM Model (в лекции) представляет собой специализированную очередь, в которую пишутся команды на обновление БД Query ORM Model (тоже в лекции, БД для считывания данных)
- Сага
	- для распределённых транзакций
	- подходы
		- хореография
			- децентрализованная, сервис принимает сообщение и выполняет событие
		- оркестрация
			- централизованная, сервис отправляет другим сервисам команду на обновление из БД
- API Gateway
	- единая точка входа, есть во всех облачных системах
	- нужен для единой маршрутизации по URI, тут же определяется аутентификация, авторизация, журналирование
	- также существует подход, при котором для каждого типа клиентов (web app, mobile, ...) делается свой шлюз
- Сине-зелёное развёртывание
	- синие сервисы - легаси
	- зелёные - новые
	- обязана быть возможность отката на легаси
- Circuit breaker
	- предназначен для защиты от перегрузки сервис-ориентированной архитектуры
	- отключает некоторые мощности
- Bulkhead
	- примерно то же самое, каждому клиенту выделяется свой экземпляр сервиса
- Распределённая трассировка
	- если есть запрос, который проходит через много микросервисов, важно сохранить связь цепочки сервисов с изначальным запросом (создать уникальный идентификатор, который протащится через все сервисы)
- Health check
	- зачастую в рамках сервиса есть отдельная функция, позволяющая проверить работоспособность сервиса
	- реализация функции зависит от конкретного сервиса
	- как правило, сервис сам проверяет свои соединения с БД, другими сервисами, выполняет какое-то тестовое задание и отвечает, насколько он работоспособен
	- может возвращаться процент, вектор, просто пустой ответ
- очень много паттернов направлено на поддержку и изменение существующей системы, независимость сервисов друг от друга, снижение сложности

- Есть реестры сервисов, которые позволяют отвязаться от конкретных мест расположений сервисов, и в случае перемещения они сами занимаются своей регистрацией в реестре

## Domain Driven Design
- домен - предметная область
- 